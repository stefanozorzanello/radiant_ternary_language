#N canvas 0 0 1754 966 12;
#X floatatom 1007 709 5 0 0 1 grain_rate - - 0;
#X obj 1010 692 hsl 128 15 10 500 0 0 empty empty empty -2 -8 0 10 #fc0400 #000000 #000000 0 1;
#X obj 1167 606 hsl 150 30 20 500 0 0 empty empty empty -2 -8 0 10 #00f8fc #000000 #000000 0 1;
#X obj 1010 552 hsl 128 15 0 2 0 0 empty empty empty -2 -8 0 10 #c4fcc4 #000000 #000000 0 1;
#X floatatom 1007 664 5 0 0 1 grain_transpose - - 0;
#X obj 1011 645 hsl 128 15 0.1 1.8 0 0 empty empty empty -2 -8 0 10 #c4fcfc #000000 #000000 0 1;
#X obj 13 256 hradio 15 1 0 3 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X floatatom 13 276 5 0 0 0 - - - 0;
#X obj 75 290 vs.sel~;
#X obj 12 206 fwd-rev;
#X text 1351 623 2;
#X obj 190 839 lop~ 8000;
#X obj 177 817 *~ 0.05;
#X msg 1020 492 1;
#X obj 131 237 sig~ 1;
#X obj 131 261 -~;
#X obj 1169 675 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #0400fc #f8fc00 #000000 0 1;
#N canvas 1159 160 412 324 radom-transpose 0;
#X obj 3 75 metro 1000;
#X floatatom 57 184 5 0 0 0 - - - 0;
#X obj 3 50 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj -2 276 outlet;
#X obj 4 5 r init-1, f 10;
#X obj 86 28 sel 0;
#X obj 214 77 gate;
#X obj 243 44 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 195 103 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 61 277 5 0 0 0 - - - 0;
#X msg 214 101 bang;
#X msg 86 52 1;
#X obj 86 4 r rtransp2-status;
#X obj 215 4 r transp2;
#X obj 22 157 t b f;
#X obj 22 133 vs.between 100 1000;
#X obj 22 240 vs.between 0.75 1.2;
#X connect 0 0 15 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 11 0;
#X connect 6 0 8 0;
#X connect 6 0 10 0;
#X connect 7 0 6 1;
#X connect 11 0 7 0;
#X connect 12 0 2 0;
#X connect 12 0 5 0;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 14 1 1 0;
#X connect 15 0 14 0;
#X connect 16 0 3 0;
#X connect 16 0 9 0;
#X restore 947 197 pd radom-transpose;
#X floatatom 190 744 5 0 0 1 REV1-L-FBK REV1-L-FBK - 0;
#X floatatom 1166 696 5 0 0 1 REV1-L-FBK - REV1-L-FBK 0;
#X obj 1378 572 vs.sgain~;
#X obj 1378 698 pvu~;
#X obj 1333 566 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X obj 1435 696 pvu~;
#X obj 1431 565 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X obj 1159 544 tgl 20 0 init-1-post init-1 on/off 22 7 0 10 #f8fc00 #000000 #000000 0 1;
#X obj 1204 642 cnv 15 100 20 empty empty empty 20 12 0 14 #f8fc00 #404040 0;
#X floatatom 1007 573 5 0 0 1 playback_rate2 - - 0;
#X text 1085 134 playback rate;
#X text 1075 198 grain transpose;
#X text 1124 225 grain rate;
#X text 1093 331 rev1 fbk;
#X text 1033 330 rev2 fbk;
#X text 1103 291 grain dur;
#X obj 138 639 hip~ 5;
#X obj 133 472 +~ 1;
#X floatatom 721 444 10 0 0 0 - - - 0;
#X obj 133 499 +~;
#X obj 202 469 samphold~;
#X obj 310 384 samphold~;
#X obj 134 371 *~;
#X obj 13 368 -~ 0.5;
#X obj 13 397 *~ 0.5;
#X obj 13 424 cos~;
#X obj 721 385 snapshot~;
#X text 803 387 pointer(100ths);
#X obj 722 240 osc~;
#X obj 722 271 +~ 1;
#X obj 722 296 *~ 0.5;
#X text 265 441 da 0 a 1 moltiplicato per il valore dei campioni in centesimi;
#X text 767 255 (equivalente di abs~);
#X text 772 268 da 0 a 1 e da 1 a 0;
#X text 766 285 (osc~ unipolare positivo);
#X text 629 598 moltiplico per un centesimo del valore dell'array;
#X text 767 300 legge forward e reverse!;
#X text 772 412 arriva quindi a 90/100 della durata dell'array;
#X floatatom 724 626 15 0 0 0 - - - 0;
#X obj 722 698 vsl 15 200 0 288000 0 0 empty empty empty 0 -9 0 10 #fc8000 #000000 #000000 0 1;
#X text 250 131 cambia il numero per vedere l'aggiornamento dovuto al samplehold;
#X text 312 350 quando il phasor torna a 0 samphold da un nuovo val se è stato aggiornato inlet sx;
#X text 766 429 si va da 0 a 90 e di nuovo a 0 in base alla freq dell'osc~;
#X text 165 501 qui viene sommato il punto di lettura;
#X obj 439 28 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#N canvas 333 94 1328 714 scrittura 0;
#X obj 542 131 expr $f2 / $f1;
#X obj 690 23 loadbang;
#X text 545 154 normal speed for this sample!;
#X floatatom 792 126 15 0 0 0 - - - 0;
#X msg 1108 115 normalize;
#X obj 927 75 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 927 147 15 0 0 0 - - - 0;
#X obj 785 14 r init-bang;
#X floatatom 541 175 5 0 0 1 playback_freq1 - playback_freq1 0;
#X obj 791 96 * 48000;
#X floatatom 492 94 5 0 0 0 - - - 0;
#X obj 650 91 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 692 96 48000;
#X obj 926 122 array size testfile2;
#X obj 1108 144 array define testfile2;
#X obj 514 62 receive fileDuration2;
#X obj 791 152 send fileDuration2;
#X obj 22 13 inlet;
#X obj 24 351 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 22 286 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 81 415 outlet~;
#X obj 149 396 tabwrite~ testfile2;
#X msg 505 242 threshold \$1;
#X msg 507 309 ratio \$1;
#X msg 507 362 knee \$1;
#X msg 507 428 attack \$1;
#X msg 507 481 release \$1;
#X obj 507 510 hradio 15 1 1 3 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 1;
#X msg 507 535 follow \$1;
#X text 619 218 Threshold in dB. Once the level goes above the threshold \, the compressor kicks in (goes into its attack stage). When it goes below the level \, it shuts off (goes into release stage). 0 dB = unity (not 100 dB). (default: 0);
#X text 618 301 Ratio is n:1. When the compressor has fully kicked (i.e. the attack stage has finished) the level is reduced n dB for every 1 dB above the threshold. (default: 1);
#X text 622 348 Radius of the soft knee (i.e. curve of the transfer function at the threshold). When radius is 0 \, it is a hard knee. (default: 0);
#X text 618 408 Amount of time in ms that it takes to transition into full compression once the signal has gone above the threshold. (default: 0);
#X text 620 462 Amount of time in ms that it takes to transition back to no compression once the signal has gone below the threshold. (default: 0);
#X text 620 513 Type of envelope follower to use for the level detection. 0 = peak (raw amplitude) \, 1 = RMS \, and 2 = instantaneous amplitude (a phase-independent measure of the amplitude). (default: 0);
#X obj 509 592 tgl 15 1 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 1 1;
#X msg 509 616 lookahead \$1;
#X text 624 576 Toggle look-ahead on or off. With look-ahead on \, the signal is delayed by 64 samples to make up for the slow reaction time of the envelope followers. If it is off \, it may not compress the very beginning of transients \, even if the attack time is zero. Instantaneous amplitude detection is quite fast \, though \, so you may not need look-ahead when using it. (default: 0);
#X obj 505 218 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 -12 256;
#X obj 507 285 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 4 256;
#X obj 507 338 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 1 256;
#X obj 507 404 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 5 256;
#X obj 507 457 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 200 256;
#X obj 281 265 pvu~;
#X obj 320 266 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X obj 267 43 compressor.mmb~;
#X obj 314 85 pvu~;
#X obj 321 112 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X obj 150 111 limiter6;
#X obj 20 321 metro 6000;
#X msg 791 72 6;
#X obj 76 283 * 1000;
#X text 44 241 la durata del metro deve essere uguale a quella del file da granulare;
#X obj 249 70 *~ 1;
#X obj 177 9 catch~ reading;
#X obj 96 50 throw~ reading-post;
#X connect 0 0 8 0;
#X connect 1 0 50 0;
#X connect 1 0 12 0;
#X connect 1 0 4 0;
#X connect 1 0 5 0;
#X connect 3 0 16 0;
#X connect 4 0 14 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 7 0 50 0;
#X connect 7 0 12 0;
#X connect 9 0 3 0;
#X connect 9 0 13 0;
#X connect 12 0 0 1;
#X connect 13 0 6 0;
#X connect 15 0 0 0;
#X connect 15 0 10 0;
#X connect 17 0 19 0;
#X connect 18 0 21 0;
#X connect 19 0 49 0;
#X connect 22 0 45 1;
#X connect 23 0 45 1;
#X connect 24 0 45 1;
#X connect 25 0 45 1;
#X connect 26 0 45 1;
#X connect 27 0 28 0;
#X connect 28 0 45 1;
#X connect 35 0 36 0;
#X connect 36 0 45 1;
#X connect 38 0 22 0;
#X connect 39 0 23 0;
#X connect 40 0 24 0;
#X connect 41 0 25 0;
#X connect 42 0 26 0;
#X connect 43 0 44 0;
#X connect 45 0 53 0;
#X connect 46 0 47 0;
#X connect 48 0 43 0;
#X connect 48 0 21 0;
#X connect 49 0 18 0;
#X connect 50 0 9 0;
#X connect 50 0 51 0;
#X connect 51 0 49 1;
#X connect 53 0 46 0;
#X connect 53 0 48 0;
#X connect 54 0 45 0;
#X connect 54 0 20 0;
#X connect 54 0 55 0;
#X restore 430 52 pd scrittura su array tramite mic/osc;
#X obj 1114 8 loadbang;
#X text 332 475 ms = X * 44.1;
#X text 371 292 ms;
#X obj 312 300 nbx 5 14 -1e+37 1e+37 0 0 empty empty transposition 0 -8 0 10 #fcfcfc #000000 #000000 0 256;
#X floatatom 722 190 5 0 0 1 playback_freq1 - - 0;
#X text 533 643 questa parte sposta il punto di lettura avanti e indietro alla velocità (frequenza desiderata. vel 1 = 8 secondi letti in 8 secondi = 0.114 Hz (a 48Khz);
#X obj 429 76 pvu~;
#X obj 585 163 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X obj 114 681 pvu~;
#X obj 115 707 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0;
#X msg 197 229 0 \, 1 \$1;
#X obj 105 68 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 96 91 metro 200;
#X obj 312 324 * 48;
#X obj 721 414 * 900;
#X obj 723 511 +;
#X obj 723 472 t f b;
#X obj 777 500 random 10;
#X floatatom 875 497 5 0 0 0 - - - 0;
#X text 872 471 jitter;
#X floatatom 203 50 5 0 0 1 grain_rate2 - - 0;
#X text 367 267 grainsize&transp;
#X obj 374 225 hsl 128 15 0.1 1.8 0 0 empty empty empty -2 -8 0 10 #f8fc00 #000000 #000000 0 1;
#X obj 140 611 *~;
#X floatatom 370 247 5 0 0 1 grain_transp2 - - 0;
#X text 171 605 questo è un inviluppo guidato dal coseno \, sicronizzato con il line;
#X obj 197 252 vline~, f 10;
#X msg 369 202 1;
#X text 701 99 scan speed&direction;
#X obj 123 114 hsl 128 15 100 500 0 0 empty empty empty -2 -8 0 10 #00f8fc #000000 #000000 0 1;
#X floatatom 99 136 5 0 0 1 grain_dur2 - - 0;
#X floatatom 722 138 5 0 0 1 playback_rate2 - - 0;
#X obj 1013 599 hsl 128 15 0 100 0 0 empty empty empty -2 -8 0 10 #00fc04 #000000 #000000 0 1;
#X floatatom 1010 619 5 0 0 1 jitter - - 0;
#X obj 105 15 r init-1;
#X obj 307 264 *;
#X obj 304 181 t b f;
#X obj 946 168 vs.scale 0 1 0 100;
#X obj 141 551 tabread4~ testfile2;
#X text 171 86 grain rate2;
#X text 1088 167 jitter;
#X obj 956 263 vs.scale 0 1 20 100;
#X obj 954 293 vs.scale 0 1 0 0.05;
#X obj 957 329 vs.!- 0.05;
#X floatatom 1165 642 5 0 0 1 grain_dur1 - - 0;
#X obj 1464 723 throw~ GRAN2-OUT-R;
#X obj 1319 723 throw~ GRAN2-OUT-L;
#X obj 935 134 vs.scale 0 1 1.8 0.1;
#X obj 770 167 r playback_freq2;
#X obj 317 77 change;
#X obj 317 101 s transp2;
#N canvas 221 -810 1287 550 2grain-dur-mapping 0;
#X text 39 32 scena 1;
#X text 319 32 scena 2;
#X text 608 32 scena 3;
#X obj 261 295 outlet min;
#X obj 481 298 outlet max;
#X msg 301 109 150;
#X msg 374 109 40;
#X msg 601 110 100;
#X msg 672 110 20;
#X obj 36 59 r 2grain-dur-map-scena1;
#X obj 298 61 r 2grain-dur-map-scena2;
#X obj 597 62 r 2grain-dur-map-scena3;
#X msg 39 107 80;
#X msg 111 107 200;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X connect 9 0 12 0;
#X connect 9 0 13 0;
#X connect 10 0 5 0;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X connect 11 0 8 0;
#X connect 12 0 3 0;
#X connect 13 0 4 0;
#X restore 1228 375 pd 2grain-dur-mapping;
#N canvas 391 -799 1287 550 2grain-rev-mapping 0;
#X text 39 32 scena 1;
#X text 319 32 scena 2;
#X text 608 32 scena 3;
#X obj 261 295 outlet min;
#X msg 39 107 0.1;
#X msg 301 109 0.01;
#X msg 600 110 0.001;
#X obj 36 59 r 2grain-rev-map-scena1;
#X obj 298 61 r 2grain-rev-map-scena2;
#X obj 597 62 r 2grain-rev-map-scena3;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 6 0;
#X restore 1229 438 pd 2grain-rev-mapping;
#X obj 722 161 / 4;
#X obj 976 94 pipe 2000;
#N canvas 5 103 591 288 2grain_rate-ramp 0;
#X obj 213 191 outlet min;
#X obj 213 138 line;
#X obj 213 114 r 2gran_rate-ramp;
#X obj 126 90 r stop-del;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X restore 978 227 pd 2grain_rate-ramp;
#X obj 1774 1095 dac~ 2;
#X obj 79 168 int;
#X obj 175 708 *~ 0.7;
#X text 348 167 quanti campioni vengono letti \; nella durata del campione;
#X obj 723 558 * 288;
#X msg 1503 90 \; init-1 bang \;;
#X obj 1310 68 env~ 8192;
#X obj 1232 502 r init-1;
#X obj 1310 92 / 100;
#X msg 1310 116 \$1 200;
#X obj 1310 140 line;
#X obj 1306 538 bng 19 250 50 0 empty 1bang rate\ line\ bang 25 10 0 8 #fcfcfc #000000 #000000;
#X obj 759 331 r metro_snapshot;
#X obj 1400 469 vs.curve~;
#X obj 1400 495 snapshot~;
#X obj 1500 469 r metro_snapshot;
#X floatatom 1310 164 5 0 0 0 - - - 0;
#X obj 1007 732 s t-rev;
#X msg 1400 445 10 \, 500 120000 2;
#X obj 175 794 freezeverb 150;
#X obj 189 863 *~ 0.1;
#X msg 1504 336 -1;
#X connect 0 0 137 0;
#X connect 1 0 0 0;
#X connect 1 0 84 0;
#X connect 2 0 93 0;
#X connect 2 0 108 0;
#X connect 3 0 95 0;
#X connect 3 0 27 0;
#X connect 5 0 4 0;
#X connect 5 0 86 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 40 0;
#X connect 8 1 40 0;
#X connect 9 0 6 0;
#X connect 11 0 140 0;
#X connect 12 0 11 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 8 2;
#X connect 16 0 19 0;
#X connect 17 0 5 0;
#X connect 18 0 139 0;
#X connect 20 0 21 0;
#X connect 20 0 110 0;
#X connect 20 1 23 0;
#X connect 20 1 109 0;
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 34 0 122 0;
#X connect 34 0 20 1;
#X connect 35 0 37 0;
#X connect 36 0 80 0;
#X connect 37 0 102 0;
#X connect 38 0 37 1;
#X connect 39 0 40 1;
#X connect 40 0 35 0;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 43 0 87 1;
#X connect 44 0 78 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 48 0 44 0;
#X connect 56 0 57 0;
#X connect 62 0 63 0;
#X connect 63 0 70 0;
#X connect 63 0 126 0;
#X connect 64 0 13 0;
#X connect 67 0 77 0;
#X connect 68 0 46 0;
#X connect 70 0 71 0;
#X connect 72 0 73 0;
#X connect 74 0 90 0;
#X connect 75 0 76 0;
#X connect 76 0 121 0;
#X connect 77 0 39 0;
#X connect 78 0 36 0;
#X connect 79 0 124 0;
#X connect 80 0 79 0;
#X connect 80 1 81 0;
#X connect 81 0 79 1;
#X connect 82 0 81 1;
#X connect 84 0 76 1;
#X connect 84 0 113 0;
#X connect 86 0 88 0;
#X connect 87 0 34 0;
#X connect 87 0 72 0;
#X connect 88 0 100 0;
#X connect 90 0 38 1;
#X connect 90 0 39 1;
#X connect 90 0 41 0;
#X connect 90 0 15 1;
#X connect 90 0 8 1;
#X connect 91 0 86 0;
#X connect 93 0 94 0;
#X connect 93 0 99 0;
#X connect 94 0 121 1;
#X connect 95 0 117 0;
#X connect 96 0 97 0;
#X connect 97 0 82 0;
#X connect 98 0 75 0;
#X connect 98 0 62 0;
#X connect 99 0 67 0;
#X connect 100 0 99 0;
#X connect 100 1 99 1;
#X connect 101 0 96 0;
#X connect 102 0 87 0;
#X connect 105 0 2 0;
#X connect 106 0 16 0;
#X connect 106 0 107 0;
#X connect 111 0 3 0;
#X connect 112 0 68 0;
#X connect 113 0 114 0;
#X connect 115 0 105 3;
#X connect 115 1 105 4;
#X connect 116 0 106 4;
#X connect 116 0 107 1;
#X connect 117 0 68 0;
#X connect 118 0 105 0;
#X connect 118 0 106 0;
#X connect 118 0 111 0;
#X connect 118 0 101 0;
#X connect 121 0 74 0;
#X connect 122 0 139 0;
#X connect 124 0 38 0;
#X connect 124 0 56 0;
#X connect 126 0 128 0;
#X connect 127 0 141 0;
#X connect 128 0 129 0;
#X connect 129 0 130 0;
#X connect 130 0 118 0;
#X connect 130 0 136 0;
#X connect 131 0 138 0;
#X connect 132 0 44 0;
#X connect 133 0 134 0;
#X connect 134 0 1 0;
#X connect 135 0 134 0;
#X connect 138 0 133 0;
#X connect 139 0 12 0;
#X connect 140 0 20 0;
#X connect 141 0 20 2;
#X coords 0 -1 1 1 485 200 1 1000 530;
